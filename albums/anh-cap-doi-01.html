<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        Thu NhiÃªn Gallery
    </title>
    <link rel="icon" href="../assets/gallery icon 32x32.png">

    <!-- SEO Meta Tags -->
    <meta name="description"
        content="Album: áº¢nh cáº·p Ä‘Ã´i 01
#couple
Thu NhiÃªn Gallery">
    <meta property="og:title" content="áº¢nh cáº·p Ä‘Ã´i 01">
    <meta property="og:description"
        content="Album: áº¢nh cáº·p Ä‘Ã´i 01
#couple
Thu NhiÃªn Gallery">
    <meta property="og:image"
        content="https://thunhien.edu.vn/gallery/thumbnails/anh-cap-doi-01-thumbnail.jpg">
    <meta property="og:image:type" content="image/jpeg">
    <meta property="og:image:width" content="300">
    <meta property="og:type" content="article">
    <meta property="og:url"
        content="https://thunhien.edu.vn/gallery/albums/anh-cap-doi-01.html">
    <!-- <meta property="fb:app_id" content="YOUR_APP_ID"> -->

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="../assets/vendor/bootstrap.min.css">
    <!-- Ionicons -->
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

    <style>
        :root {
            --bg-dark: #121212;
            --bg-card: #1e1e1e;
            --accent-color: #0d6efd;
            --text-primary: #e0e0e0;
        }

        /* body selector removed to fix Light Mode */
        /* Navbar */
        .navbar {
            background: rgba(30, 30, 30, 0.8);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid #333;
        }

        .navbar-brand img {
            height: 40px;
        }

        /* Lightbox - Advanced Split Layout */
        #lightbox-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 2000;
            display: none;
            flex-direction: column;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        #lightbox-modal.active {
            display: flex;
            opacity: 1;
        }

        .lightbox-container {
            display: flex;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        /* Left: Stage */
        .lightbox-stage {
            flex: 1;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #000;
            /* Clean black stage */
            overflow: hidden;
        }

        .lightbox-close-btn {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.5);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            color: white;
            font-size: 2rem;
            z-index: 30;
            cursor: pointer;
        }

        /* Sidebar */
        /* Sidebar (Overlay Mode) */
        .lightbox-sidebar {
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            width: 33vw;
            /* 1/3 Screen */
            min-width: 320px;
            max-width: 90vw;
            /* Mobile safe */

            background: rgba(30, 30, 30, 0.5);
            /* Semi-transparent */
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);

            color: #fff;
            display: flex;
            flex-direction: column;
            border-left: 1px solid rgba(255, 255, 255, 0.15);
            box-shadow: -5px 0 20px rgba(0, 0, 0, 0.5);

            z-index: 2001;
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            transform: translateX(0);
        }

        .lightbox-sidebar.hidden {
            transform: translateX(100%);
            /* Slide out to right */
        }

        @media (max-width: 768px) {
            .lightbox-sidebar {
                width: 85vw;
                max-width: none;
            }
        }

        /* Stage Toggle Button (Visible when sidebar hidden) */
        .stage-toggle-btn {
            position: absolute;
            bottom: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.5);
            color: #fff;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            cursor: pointer;
            z-index: 20;
            transition: all 0.2s;
            opacity: 0;
            /* Hidden by default if sidebar is open */
            pointer-events: none;
        }

        .stage-toggle-btn:hover {
            background: rgba(0, 0, 0, 0.8);
            border-color: #fff;
        }

        /* Show toggle button when sidebar is hidden */
        .lightbox-container.sidebar-closed .stage-toggle-btn {
            opacity: 1;
            pointer-events: auto;
        }

        /* Toolbar */
        .sidebar-toolbar {
            display: flex;
            justify-content: space-between;
            padding: 15px;
            border-bottom: 1px solid #333;
            background: #252525;
        }

        .icon-btn {
            background: transparent;
            border: none;
            color: #aaa;
            font-size: 1.2rem;
            cursor: pointer;
            padding: 5px 10px;
            border-radius: 4px;
            transition: all 0.2s;
        }

        .icon-btn:hover {
            color: #fff;
            background: #333;
        }

        .icon-btn.close-btn:hover {
            color: #f44;
        }

        /* Content */
        .sidebar-content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }

        #lightbox-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 10px;
            color: #fff;
        }

        .tags-container {
            margin-bottom: 15px;
        }

        .tag-chip {
            display: inline-block;
            background: #333;
            color: #ccc;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            margin-right: 5px;
            margin-bottom: 5px;
            text-decoration: none;
            cursor: pointer;
        }

        .tag-chip:hover {
            background: #0d6efd;
            color: #fff;
        }

        .description-text {
            font-size: 0.9rem;
            color: #ccc;
            line-height: 1.5;
            white-space: pre-wrap;
        }

        /* Footer / Zoom */
        .sidebar-footer {
            padding: 15px;
            border-top: 1px solid #333;
            background: #252525;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .zoom-controls button {
            background: #333;
            border: none;
            color: #fff;
            padding: 5px 10px;
            margin-right: 5px;
            border-radius: 4px;
            cursor: pointer;
        }

        .zoom-controls button:hover {
            background: #555;
        }

        .counter-text {
            font-size: 0.8rem;
            color: #777;
        }

        /* Navigation Overlays */
        .nav-overlay {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 15%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.2s;
            z-index: 10;
            color: rgba(255, 255, 255, 0.7);
            font-size: 3rem;
        }

        .nav-overlay:hover {
            opacity: 1;
            background: rgba(0, 0, 0, 0.1);
        }

        .nav-left {
            left: 0;
        }

        .nav-right {
            right: 0;
        }

        /* Mobile Tweaks */
        @media (max-width: 768px) {
            .lightbox-container {
                flex-direction: column;
            }

            .lightbox-sidebar {
                width: 100%;
                max-width: none;
                height: 100% !important;
                /* Full screen height */
                top: 0;
                bottom: 0;
                margin-right: 0 !important;

                /* Transform for Slide Up/Down */
                transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
                transform: translateY(0);
                /* Visible state */

                /* Darker background for full screen overlay */
                background: rgba(10, 10, 10, 0.95);
                z-index: 2002;
                /* Above everything */
            }

            .lightbox-sidebar.hidden {
                transform: translateY(100%);
                /* Slide down out of view */
                margin-bottom: 0;
                /* Reset previous logic */
            }

            .lightbox-stage {
                flex: 1;
                width: 100%;
                height: 100%;
            }
        }
    </style>
    <link rel="stylesheet" href="../assets/css/style.css">
</head>

<body>

    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm sticky-top">
    <div class="container">
        <a class="navbar-brand fw-bold" href="../index.html">
            <img src="../assets/gallery icon 100x100.png" alt="Thu NhiÃªn Gallery" height="40"
                class="d-inline-block align-text-top">
            Thu NhiÃªn Gallery
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item">
                    <a class="nav-link" href="../404.html">
                        4Fun
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="../collections/ai_technology">
                        AI Technology
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="../collections/ai-photography">
                        Nhiáº¿p áº¢nh AI
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="../categories">
                        Danh Má»¥c
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="../photos.html">
                        HÃ¬nh áº¢nh
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="../albums.html">
                        Albums
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="../tags.html">
                        Tháº»
                    </a>
                </li>
            </ul>
        </div>
    </div>
</nav>

        <main>
            <div class="bg-white border-bottom py-3 mb-4">
    <div class="container">
        <div class="d-flex align-items-center">
            <a id="smart-back-link" href="../index.html"
                class="text-decoration-none text-primary">Home</a>
            <span class="text-muted mx-2">/</span>
            <h4 class="fw-bold mb-0 text-dark text-truncate" title="áº¢nh cáº·p Ä‘Ã´i 01" style="max-width: 70%;">
                áº¢nh cáº·p Ä‘Ã´i 01
            </h4>

            <button class="btn btn-sm btn-outline-primary rounded-pill px-3 ms-auto"
                onclick="shareUrl('áº¢nh cáº·p Ä‘Ã´i 01', 'Check out this album', window.location.href)">
                <ion-icon name="share-social-outline" style="vertical-align: -1px; margin-right: 4px;"></ion-icon>
                Share
            </button>
        </div>
        <div class="text-muted small mt-2">
            <ion-icon name="images-outline" style="vertical-align: -2px;"></ion-icon>
            10 photos
        </div>
    </div>
</div>

<script>
    // Smart Back Link Logic
    document.addEventListener("DOMContentLoaded", function () {
        const backLink = document.getElementById('smart-back-link');
        if (document.referrer && document.referrer.includes('albums')) {
            backLink.textContent = 'Albums';
            backLink.href = '../albums.html';
        }
    });

    function copyCurrentUrl() {
        navigator.clipboard.writeText(window.location.href).then(() => {
            alert('Album link copied to clipboard!');
        }).catch(err => {
            console.error('Failed to copy', err);
        });
    }
</script>

<div class="container" id="album-container">
    
            <!-- Public UI -->
            <div class="row" id="masonry-grid"></div>

            <!-- Sentinel -->
            <div id="sentinel" class="py-5 text-center text-muted">
                <div class="spinner-border text-primary" role="status"></div>
            </div>
            
</div>

<!-- Scripts (Local) -->
<script src="../assets/vendor/jquery.min.js"></script>
<script src="../assets/vendor/imagesloaded.pkgd.min.js"></script>
<script src="../assets/vendor/masonry.pkgd.min.js"></script>

<script>
    // --- SHARED INFINITE SCROLL LOGIC ---
    let masonryInstance = null;
    let renderedCount = 0;
    const CHUNK_SIZE = 48;

    function initInfiniteScroll(photos) {
        window.currentPhotos = photos;
        renderedCount = 0;

        const grid = document.querySelector('#masonry-grid');
        const sentinel = document.getElementById('sentinel');

        if (!grid || !sentinel) return;

        // Show sentinel
        sentinel.style.display = 'block';

        // Init Masonry
        masonryInstance = new Masonry(grid, {
            itemSelector: '.gallery-item',
            percentPosition: true
        });

        // Render Function
        window.renderNextChunk = function () {
            if (renderedCount >= photos.length) {
                sentinel.style.display = 'none'; // distinct from "End of text"
                return;
            }

            const nextBatch = photos.slice(renderedCount, renderedCount + CHUNK_SIZE);
            const html = nextBatch.map((photo, i) => {
                const index = renderedCount + i;
                const safeName = photo.filename.replace(/\./g, '_');
                const viewId = photo.id || `${photo.albumSlug}__${safeName}`;

                return `
                    <div class="col-sm-6 col-md-4 col-lg-3 mb-4 gallery-item">
                        <div class="photo-card" onclick="openLightbox(${index})" style="cursor: pointer; position: relative;" data-view-id="${viewId}">
                            <img src="${photo.src}" alt="${photo.name}" loading="lazy">
                            <div class="view-overlay" style="position: absolute; bottom: 8px; left: 8px; background: rgba(0,0,0,0.6); padding: 2px 6px; border-radius: 4px; color: white; font-size: 0.75rem; display: flex; align-items: center; gap: 4px; pointer-events: none;">
                                <ion-icon name="eye-outline"></ion-icon>
                                <span class="view-count-text">...</span>
                            </div>
                        </div>
                    </div>
                 `;
            }).join('');

            // Append
            grid.insertAdjacentHTML('beforeend', html);

            imagesLoaded(grid, function () {
                masonryInstance.reloadItems();
                masonryInstance.layout();
                if (window.refreshViewCounts) window.refreshViewCounts();
            });

            renderedCount += nextBatch.length;
        };

        // Observer
        const observer = new IntersectionObserver((entries) => {
            if (entries[0].isIntersecting) {
                window.renderNextChunk();
            }
        }, { rootMargin: '400px' });
        observer.observe(sentinel);

        // First Load
        window.renderNextChunk();
    }
</script>


        <!-- PUBLIC LOGIC -->
        <script id="gallery-model" type="application/json">
        [{"type":"split","src":"../thumbnails/anh-cap-doi-01/Couple-01-01.jpg","src_a":"../split/anh-cap-doi-01/Couple-01-01-a.jpg","src_b":"../split/anh-cap-doi-01/Couple-01-01-b.jpg","name":"Couple-01-01","metadata":{"title":null,"description":null,"variant":"ai-photography","tags":["couple"]},"content":"\r\nGenerate a high level realism and visual fidelity, high detailed, 8K resolution with 1080x1080 pixel portrait of me using the uploaded image for reference (preserved the likeness and original face from reference), create an realistic skin shading of a full-body portrait photograph, Stable Diffusion with ultra-realistic checkpoints enabled; Subject: A young man and a young woman seated together at an outdoor dining table. Exact pose and facial expressions: The man sits slightly behind and to the left, leaning forward with his upper body visible, looking directly at the camera with a broad, genuine smile showing teeth. The woman sits in front and to the right, facing slightly left toward the camera with a soft, gentle smile, her right arm resting on the table while her left hand is near her lap. Exact makeup and hair: The man has short, dark black hair styled neatly. The woman has long, straight brown hair falling over her shoulders and down her back; her makeup is subtle, with natural-toned lips and defined eyebrows. Exact apparel and accessories: The man wears a plain black long-sleeved crew-neck top. The woman wears a form-fitting brown strapless dress; a thin, delicate necklace with a small light-colored pendant rests against her collarbone. Ultra-photorealistic attributes: High ultra-detailed textures including fabric weave of clothing, individual hair strands, skin pores and facial contours, shell texture of seafood, sauce consistency, and foliage details; high ultra-resolution at 8K or higher, with sharp focus on the subjects and foreground food items while the background maintains natural depth of field. Composition and framing: Vertical orientation, medium shot capturing the subjects from the chest up and the tableâ€™s food spread in the foreground, with subjects positioned slightly right of center and food dominating the lower portion of the frame. Lighting and color palette: Mixed warm ambient lighting from nearby sources illuminating the subjects and table, complemented by cool green and blue tones from dense background foliage; small warm white string lights create soft bokeh in the background. Overall color palette blends black of the manâ€™s top, brown of the womanâ€™s dress, vibrant orange/brown tones of the seafood, warm neutrals of the tableware, and rich greens of the surrounding vegetation. Environment and background: Outdoor or semi-outdoor dining setting surrounded by dense, lush green trees and foliage; a glass panel or transparent railing with metal framing is visible behind the man, with small string lights strung among the greenery above; a gravel or pebbled ground surface can be seen to the right of the table, along with additional potted plants or garden elements in the distance. Props and additional elements: On the dark-colored table, a large white round bowl filled with cooked seafood (including bright orange crabs and dark-shelled mussels) sits prominently; a small white bowl of thick red dipping sauce rests inside the seafood bowl. To the left, a smaller white bowl contains yellow, cube-shaped fried food items. To the right of the seafood bowl, partially visible packaged food items, plastic wrap, and possibly utensils lie on the table. Technical specifications: Captured with a large-sensor camera or high-end smartphone, shallow depth of field to emphasize the subjects and food against the verdant background, natural color grading that preserves the warm-cool light balance, minimal noise despite the low-light evening setting, and realistic rendering of light interaction with fabric, skin, food, and natural elements.\r\n\r\nâ›”ğ™‰ğ™šğ™œğ™–ğ™©ğ™ğ™«ğ™š ğ™‹ğ™§ğ™¤ğ™¢ğ™¥ğ™©: cartoonish, anime, 3D, (CG:1.2), (render:1.2), (unreal engine:1.1), (digital art:1.2), (plastic skin:1.3), airbrushed, excessive skin smoothing, long neck, (glitch:1.2), (pixelated:1.1), (low quality:1.4), (normal quality:1.2), blurry, amputation, sketch, drawing, painting, oil painting, 3d render, anime, cartoon, monochrome, unnatural skin, (oversmoothed:1.2), double head, cross-eyed, bad teeth, (cloned face:1.1), low resolution, low quality, artifact, out of frame, (deformed, distorted, disfigured:1.3), poorly drawn, bad anatomy, wrong anatomy, extra limb, missing limb, floating limbs, (disconnected limbs:1.2), mutation, mutated, ugly, disgusting, (wrong spelling:1.1), wrong text, rumble letters.\r\nğŸ“Œğ™‹ğ™§ğ™¤ğ™¢ğ™¥ğ™© ğ˜¼ğ™™ğ™™ğ™ğ™©ğ™ğ™¤ğ™£: add a very subtle, diminutive, translucent text with shadow watermark in the bottom right corner in two lines that reads \"PROMPT ORIGINALLY CREATED BY:\" and thin handwritten-style cursive white signature logo \"Michelle Ann Villamor\". The watermarks should not distract from the main subject.","id":"5a6817b65fdedcc2","filename":"Couple-01-01.jpg","albumSlug":"anh-cap-doi-01"},{"type":"split","src":"../thumbnails/anh-cap-doi-01/Couple-01-02.jpg","src_a":"../split/anh-cap-doi-01/Couple-01-02-a.jpg","src_b":"../split/anh-cap-doi-01/Couple-01-02-b.jpg","name":"Couple-01-02","metadata":{"title":null,"description":null,"variant":"ai-photography","tags":["couple"]},"content":"\r\nGenerate a high level realism and visual fidelity, high detailed, 8K resolution with 1080x1080 pixel portrait of me using the uploaded image for reference (preserved the likeness and original face from reference), create an realistic skin shading of a capturing two young individuals seated side-by-side at an outdoor table in a nighttime urban setting; the individual on the left (male-presenting) has short, dark styled hair with no visible makeup, wears a black long-sleeved hoodie featuring white vertical text/graphics on the left sleeve (appearing as \"10. 12 17\" or similar characters), poses with their right hand raised, index finger and thumb touching near their right temple/cheek, head slightly tilted left, looking at the camera with a soft subtle smile; the individual on the right (female-presenting) has long, dark slightly wavy hair, minimal natural-looking makeup, wears a black short-sleeved t-shirt with a colorful front graphic (warm tones like orange/pink), a light beige/tan baseball cap worn backwards, and a thin black bracelet on her left wrist, poses with her left hand raised, fingers resting near her chin/cheek, head slightly tilted right, looking at the camera with a gentle smile; composition is a medium shot framing subjects from mid-torso up, centered in a near-square aspect ratio, with the table edge visible at the bottom; lighting is artificial nighttime ambient, mixing warm front/left highlights and cool background tones (blues/purples from streetlights, with warm yellow/green accents from building signage), featuring slight chromatic aberration (green/magenta fringing) around high-contrast edges like the tall vertically illuminated white sign on the left; background includes a metal railing behind subjects, a building with light-colored walls and yellow roof trim to the right, across the street are multi-story buildings with lit windows and colorful signage, plus a tall blue-toned streetlight to the right, dark night sky with no visible stars; table props include a clear plastic cup with domed lid and bright yellow straw holding a light brown iced beverage, a white paper food container with red branding, a small white paper item (receipt/napkin) with black text, and a dark cylindrical object; technical specs match high-quality mobile photography with slight digital noise, shallow-to-medium depth of field (subjects sharp, background slightly blurred but detailed), with textures rendered to capture skin pores, fabric weaves, individual hair strands, and reflective surface details.\r\n\r\nâ›”ğ™‰ğ™šğ™œğ™–ğ™©ğ™ğ™«ğ™š ğ™‹ğ™§ğ™¤ğ™¢ğ™¥ğ™©: cartoonish, anime, 3D, (CG:1.2), (render:1.2), (unreal engine:1.1), (digital art:1.2), (plastic skin:1.3), airbrushed, excessive skin smoothing, long neck, (glitch:1.2), (pixelated:1.1), (low quality:1.4), (normal quality:1.2), blurry, amputation, sketch, drawing, painting, oil painting, 3d render, anime, cartoon, monochrome, unnatural skin, (oversmoothed:1.2), double head, cross-eyed, bad teeth, (cloned face:1.1), low resolution, low quality, artifact, out of frame, (deformed, distorted, disfigured:1.3), poorly drawn, bad anatomy, wrong anatomy, extra limb, missing limb, floating limbs, (disconnected limbs:1.2), mutation, mutated, ugly, disgusting, (wrong spelling:1.1), wrong text, rumble letters.\r\nğŸ“Œğ™‹ğ™§ğ™¤ğ™¢ğ™¥ğ™© ğ˜¼ğ™™ğ™™ğ™ğ™©ğ™ğ™¤ğ™£: add a very subtle, diminutive, translucent text with shadow embossed watermark in the bottom right corner in two lines that reads \"PROMPT ORIGINALLY CREATED BY:\" and thin handwritten-style cursive white diminutive text \"Michelle Ann Villamor\". The watermarks should not distract from the main subject.","id":"dd176d4d8df87413","filename":"Couple-01-02.jpg","albumSlug":"anh-cap-doi-01"},{"type":"split","src":"../thumbnails/anh-cap-doi-01/Couple-01-03.jpg","src_a":"../split/anh-cap-doi-01/Couple-01-03-a.jpg","src_b":"../split/anh-cap-doi-01/Couple-01-03-b.jpg","name":"Couple-01-03","metadata":{"title":null,"description":null,"variant":"ai-photography","tags":["couple"]},"content":"\r\nGenerate a high level realism and visual fidelity, high detailed, 8K resolution with 1080x1080 pixel portrait of me using the uploaded image for reference (preserved the likeness and original face from reference), create an realistic skin shading of two individuals in an indoor setting taking a selfie; the female-presenting subject on the left has long, straight dark black hair falling over her left shoulder, subtle natural makeup (defined brows, light lip color), wears a plain white hoodie with white drawstrings and bold purple lowercase text reading \"break the stigma\" in three lines (top to bottom: \"break\", \"the\", \"stigma\") with a small purple dot below, poses with her right arm extended forward (holding an unseen camera/device), body angled slightly right, head tilted subtly left, looking at the camera with a soft closed-mouth smile; the male-presenting subject on the right has short neat dark black hair, no visible makeup, wears an identical white hoodie with the same purple text, poses with his right arm around the femaleâ€™s shoulder/upper back, head tilted left resting near her head, eyes slightly squinted/half-closed, looking at the camera with a gentle smile; composition is a medium close-up selfie framing subjects from the upper chest up, centered in a slightly wide aspect ratio; lighting is warm indoor artificial light from a yellow ceiling fixture visible at top center, creating soft highlights on skin and fabric with an overall warm color palette mixing whites, purples, and neutral beiges/browns; background includes a wooden-framed doorway with light panels to the left, a dark wooden multi-photo frame on the far left wall, and a dark wooden shelving unit with small decorative items to the right, walls are light beige and ceiling light-toned with visible wiring near the top left; no additional props are visible beyond the unseen imaging device; technical specifications match high-quality mobile photography with subtle digital noise, shallow depth of field (subjects sharp, background slightly blurred but detailed), capturing skin pores, fabric weave, individual hair strands, and natural light reflections.\r\n\r\nâ›”ğ™‰ğ™šğ™œğ™–ğ™©ğ™ğ™«ğ™š ğ™‹ğ™§ğ™¤ğ™¢ğ™¥ğ™©: cartoonish, anime, 3D, (CG:1.2), (render:1.2), (unreal engine:1.1), (digital art:1.2), (plastic skin:1.3), airbrushed, excessive skin smoothing, long neck, (glitch:1.2), (pixelated:1.1), (low quality:1.4), (normal quality:1.2), blurry, amputation, sketch, drawing, painting, oil painting, 3d render, anime, cartoon, monochrome, unnatural skin, (oversmoothed:1.2), double head, cross-eyed, bad teeth, (cloned face:1.1), low resolution, low quality, artifact, out of frame, (deformed, distorted, disfigured:1.3), poorly drawn, bad anatomy, wrong anatomy, extra limb, missing limb, floating limbs, (disconnected limbs:1.2), mutation, mutated, ugly, disgusting, (wrong spelling:1.1), wrong text, rumble letters.\r\nğŸ“Œğ™‹ğ™§ğ™¤ğ™¢ğ™¥ğ™© ğ˜¼ğ™™ğ™™ğ™ğ™©ğ™ğ™¤ğ™£: add a very subtle, diminutive, translucent text with shadow embossed watermark in the bottom right corner in two lines that reads \"PROMPT ORIGINALLY CREATED BY:\" and thin handwritten-style cursive white diminutive text \"Michelle Ann Villamor\". The watermarks should not distract from the main subject.","id":"4cd88345da6eec66","filename":"Couple-01-03.jpg","albumSlug":"anh-cap-doi-01"},{"type":"split","src":"../thumbnails/anh-cap-doi-01/Couple-01-04.jpg","src_a":"../split/anh-cap-doi-01/Couple-01-04-a.jpg","src_b":"../split/anh-cap-doi-01/Couple-01-04-b.jpg","name":"Couple-01-04","metadata":{"title":null,"description":null,"variant":"ai-photography","tags":["couple"]},"content":"\r\nGenerate a high level realism and visual fidelity, high detailed, 8K resolution with 1080x1080 pixel portrait of me using the uploaded image for reference (preserved the likeness and original face from reference), create an realistic skin shading of a full-body portrait photograph, Stable Diffusion with ultra-realistic checkpoints enabled; Subject: A young man and a young woman posing closely together. Exact pose and facial expressions: The man stands slightly forward with his body angled subtly to the viewerâ€™s left, his right arm relaxed at his side, while the woman stands behind him to his right, wrapping both arms around his neck and shoulders; her right leg is bent and lifted slightly off the ground with the foot angled downward. The man has his eyes partially closed, mouth open wide with tongue slightly protruding in a playful expression, and his left hand raised near his chin making a peace sign with two fingers extended. The woman has her head tilted slightly to her left (viewerâ€™s right), eyes looking directly at the camera with a soft, slightly pouty expression, lips slightly parted. Exact makeup and hair: The man has short, dark black hair styled casually with some volume on top. The woman has long, dark brown or black hair flowing over her right shoulder and down her back, styled with a slight wave; her makeup includes defined dark eyebrows, subtle eye makeup, and pinkish-red lipstick, with small, round, light-colored earrings visible. Exact apparel and accessories: The man wears a crisp white long-sleeved button-down shirt with sleeves rolled up to just below the elbows, paired with light blue distressed jeans featuring visible white patches/rips on the thigh and knee areas; a metallic wristwatch with a dark strap is worn on his left wrist. The woman wears a sleeveless, short-length slip dress in a muted satin pink or rose gold tone, with a simple silhouette; she has light-colored (possibly white or nude) flat shoes or sandals on her visible foot. Ultra-photorealistic attributes: High ultra-detailed textures including fabric weave of the shirt, denim texture of the jeans, satin sheen of the dress, skin pores, hair strands, and watch details; high ultra-resolution at 8K or higher with sharp focus on subjects while background maintains natural depth of field. Composition and framing: Vertical orientation, full-body to slightly cropped at the feet (womanâ€™s lifted foot is near the bottom edge), subjects centered in the frame with balanced negative space above and around them. Lighting and color palette: Low-light nighttime scene with soft, diffused ambient lighting illuminating the subjects from the front/side, creating subtle highlights on skin and fabric; background has cooler dark blue/black tones from the night sky, with warm yellow/orange bokeh lights from distant city elements; overall color palette is a mix of cool dark blues, warm skin tones, white shirt, light blue jeans, and muted pink dress. Environment and background: Outdoor rooftop or elevated terrace setting; immediate background features dark green leafy bushes or plants behind a low dark barrier, with a glass or transparent railing visible above the greenery; beyond the railing, a blurred cityscape with scattered lights and a faint large dome-like structure visible in the distance on the left, all set against a deep dark blue night sky. Props and additional elements: No distinct props are visible beyond the architectural and natural elements of the setting. Technical specifications: Shot with a large-sensor camera, shallow depth of field to emphasize subjects, natural color grading, sharp focus on facial features and clothing details, minimal noise despite low light conditions, capturing realistic shadows and highlights consistent with outdoor nighttime ambient and distant city lighting.\r\n\r\nâ›”ğ™‰ğ™šğ™œğ™–ğ™©ğ™ğ™«ğ™š ğ™‹ğ™§ğ™¤ğ™¢ğ™¥ğ™©: cartoonish, anime, 3D, (CG:1.2), (render:1.2), (unreal engine:1.1), (digital art:1.2), (plastic skin:1.3), airbrushed, excessive skin smoothing, long neck, (glitch:1.2), (pixelated:1.1), (low quality:1.4), (normal quality:1.2), blurry, amputation, sketch, drawing, painting, oil painting, 3d render, anime, cartoon, monochrome, unnatural skin, (oversmoothed:1.2), double head, cross-eyed, bad teeth, (cloned face:1.1), low resolution, low quality, artifact, out of frame, (deformed, distorted, disfigured:1.3), poorly drawn, bad anatomy, wrong anatomy, extra limb, missing limb, floating limbs, (disconnected limbs:1.2), mutation, mutated, ugly, disgusting, (wrong spelling:1.1), wrong text, rumble letters.\r\nğŸ“Œğ™‹ğ™§ğ™¤ğ™¢ğ™¥ğ™© ğ˜¼ğ™™ğ™™ğ™ğ™©ğ™ğ™¤ğ™£: add a very subtle, diminutive, translucent text with shadow embossed watermark in the bottom right corner in two lines that reads \"PROMPT ORIGINALLY CREATED BY:\" and thin handwritten-style cursive white diminutive text \"Michelle Ann Villamor\". The watermarks should not distract from the main subject.","id":"521805845becb29b","filename":"Couple-01-04.jpg","albumSlug":"anh-cap-doi-01"},{"type":"split","src":"../thumbnails/anh-cap-doi-01/Couple-01-05.jpg","src_a":"../split/anh-cap-doi-01/Couple-01-05-a.jpg","src_b":"../split/anh-cap-doi-01/Couple-01-05-b.jpg","name":"Couple-01-05","metadata":{"title":null,"description":null,"variant":"ai-photography","tags":["couple"]},"content":"\r\nGenerate a high level realism and visual fidelity, high detailed, 8K resolution with 1080x1080 pixel portrait of me using the uploaded image for reference (preserved the likeness and original face from reference), create an realistic skin shading of a full-body portrait photograph, Stable Diffusion with ultra-realistic checkpoints enabled; Subject: A young woman and a young man seated side-by-side indoors, positioned slightly left of the frame. Exact pose and facial expressions: The woman (on the left) has her body angled slightly toward the camera, her right eye closed in a wink, tongue protruding playfully, and her right hand raised to make a peace sign with two fingers extended; her left arm is relaxed at her side. The man (on the right) sits slightly behind her, looking directly at the camera with his mouth slightly open, and his left hand raised above his head to make a peace sign with two fingers extended; his right arm is not fully visible. Exact makeup and hair: The woman has shoulder-length, light brown hair styled straight with a slight inward curve at the ends; her makeup is subtle, with defined eyebrows and natural lip tone. The man has short, dark black hair styled neatly close to his head; no heavy makeup is visible. Exact apparel and accessories: The woman wears a white strapless dress featuring a midriff cutout just below the bust and a fabric tie detail at the waist; she has a thin, delicate necklace with a small, dark pendant, and multiple stacked black bracelets on her right wrist. The man wears a plain white short-sleeved crew-neck shirt; a wristwatch with a dark band and metallic accents is visible on his left wrist. Ultra-photorealistic attributes: High ultra-detailed textures including fabric folds and weave of the dress and shirt, individual hair strands, skin pores, and accessory details like bracelet links and watch components; high ultra-resolution at 8K or higher, with sharp focus on the subjects while the background maintains natural depth of field. Composition and framing: Vertical orientation, medium shot capturing the subjects from the waist up, with a gray table occupying the right portion of the frame and the subjects slightly left of center, creating balanced negative space. Lighting and color palette: Low-light indoor environment with dominant cool blue tones illuminating the background (from glass panels or ambient lighting), while warm, soft light highlights the subjectsâ€™ faces and clothing; overall color palette blends cool blues, bright white of the attire, natural skin tones, and muted neutral tones of the table and background elements, with a slight film-like grain consistent with low-light photography. Environment and background: Indoor setting, likely a cafÃ© or lounge; a wooden bench is visible on the far left, large glass panels or windows with dark frames and blue backlighting are behind the woman, and the distant background is blurred, showing indistinct shapes of other patrons, furniture, and warm overhead lighting fixtures (like pendant lights). Props and additional elements: On the gray table to the right, there is a white ceramic cup filled with a light brown liquid (likely coffee or tea) placed on a matching white saucer, with a small metal spoon resting on the saucer; partially visible to the right of the cup is another white cylindrical container, and at the bottom edge of the frame lies a black item with a metallic clasp (possibly a handbag or clutch). Technical specifications: Captured with a camera or smartphone optimized for low-light photography, shallow depth of field to emphasize the subjects against the background, natural color grading that preserves the cool-warm light contrast, slight digital noise consistent with low-light conditions, and realistic rendering of shadows and highlights on fabric and skin.\r\n\r\nâ›”ğ™‰ğ™šğ™œğ™–ğ™©ğ™ğ™«ğ™š ğ™‹ğ™§ğ™¤ğ™¢ğ™¥ğ™©: cartoonish, anime, 3D, (CG:1.2), (render:1.2), (unreal engine:1.1), (digital art:1.2), (plastic skin:1.3), airbrushed, excessive skin smoothing, long neck, (glitch:1.2), (pixelated:1.1), (low quality:1.4), (normal quality:1.2), blurry, amputation, sketch, drawing, painting, oil painting, 3d render, anime, cartoon, monochrome, unnatural skin, (oversmoothed:1.2), double head, cross-eyed, bad teeth, (cloned face:1.1), low resolution, low quality, artifact, out of frame, (deformed, distorted, disfigured:1.3), poorly drawn, bad anatomy, wrong anatomy, extra limb, missing limb, floating limbs, (disconnected limbs:1.2), mutation, mutated, ugly, disgusting, (wrong spelling:1.1), wrong text, rumble letters.\r\nğŸ“Œğ™‹ğ™§ğ™¤ğ™¢ğ™¥ğ™© ğ˜¼ğ™™ğ™™ğ™ğ™©ğ™ğ™¤ğ™£: add a very subtle, diminutive, translucent text with shadow embossed watermark in the bottom right corner in two lines that reads \"PROMPT ORIGINALLY CREATED BY:\" and thin handwritten-style cursive white diminutive text \"Michelle Ann Villamor\". The watermarks should not distract from the main subject.","id":"b920c8832faa67a0","filename":"Couple-01-05.jpg","albumSlug":"anh-cap-doi-01"},{"type":"split","src":"../thumbnails/anh-cap-doi-01/Couple-01-06.jpg","src_a":"../split/anh-cap-doi-01/Couple-01-06-a.jpg","src_b":"../split/anh-cap-doi-01/Couple-01-06-b.jpg","name":"Couple-01-06","metadata":{"title":null,"description":null,"variant":"ai-photography","tags":["couple"]},"content":"\r\nGenerate a high level realism and visual fidelity, high detailed, 8K resolution with 1080x1080 pixel portrait of me using the uploaded image for reference (preserved the likeness and original face from reference), create an realistic skin shading of a full-body portrait photograph, Stable Diffusion with ultra-realistic checkpoints enabled; Subject: A young woman taking a selfie and a young man standing closely beside her. Exact pose and facial expressions: The woman extends her right arm forward (selfie angle) to capture the shot, her body angled slightly to the viewerâ€™s right, with her left hand holding a cup down by her side; she looks directly at the camera with a gentle, warm smile. The man stands to her right, facing forward toward the camera with a soft, slight smile, his right hand raised holding a cup near his chest while his left arm hangs relaxed at his side. Exact makeup and hair: The woman has long, dark black hair flowing over her shoulders, partially covered by a light-colored (pale green or off-white) baseball cap with a dark embroidered emblem on the front; her makeup is subtle, with defined eyebrows and pink-toned lips. The man has short, dark black hair styled neatly and closely cropped on the sides; no visible heavy makeup. Exact apparel and accessories: The woman wears a white sleeveless dress with delicate lace trim along the neckline and yellow fabric shoulder straps; a bag strap with red-and-white striped detailing is visible over her right shoulder, and she has white open-toe footwear (sandals or flats); a thin bracelet is worn on her left wrist. The man wears a black sleeveless tank top, black athletic shorts, and white low-top sneakers; he has a thin silver chain necklace around his neck and a metallic wristwatch with a light-colored strap on his left wrist. Ultra-photorealistic attributes: High ultra-detailed textures including fabric weave of the dress and tank top, skin pores, individual hair strands, shoe and cup details; high ultra-resolution at 8K or higher with sharp focus on the subjects while the background maintains natural depth of field. Composition and framing: Vertical orientation, selfie-style framing with a slight high-angle perspective looking down at the subjects, who are centered in the frame with ample background visible above and around them. Lighting and color palette: Natural golden hour/sunset lighting, with warm hues of orange, pink, and soft purple dominating the sky, casting gentle, even illumination on the subjects with subtle shadows; the overall color palette blends warm sunset tones with the green of surrounding vegetation, white of the dress, black of the manâ€™s attire, and the blue-gray of the distant water and hills. Environment and background: Outdoor elevated viewpoint (hill or mountain top) with lush green grass, dense leafy bushes dotted with small white flowers in the immediate foreground, and taller wild grasses behind the subjects; beyond the vegetation lies a large body of water (lake or sea) with multiple distant islands and rolling green hills stretching across the horizon, under a sky filled with scattered, wispy clouds illuminated by the setting sun. Props and additional elements: The woman holds a white disposable paper cup with a brown cardboard sleeve in her left hand; the man holds a black disposable cup with a black lid in his right hand. Technical specifications: Captured with a device capable of high-resolution photography (smartphone or mirrorless camera), shallow depth of field to emphasize the subjects against the scenic background, natural color grading that preserves the warm sunset tones, minimal noise despite the low-light transition period, and realistic rendering of light interaction with fabrics, skin, and environmental elements.\r\n\r\nâ›”ğ™‰ğ™šğ™œğ™–ğ™©ğ™ğ™«ğ™š ğ™‹ğ™§ğ™¤ğ™¢ğ™¥ğ™©: cartoonish, anime, 3D, (CG:1.2), (render:1.2), (unreal engine:1.1), (digital art:1.2), (plastic skin:1.3), airbrushed, excessive skin smoothing, long neck, (glitch:1.2), (pixelated:1.1), (low quality:1.4), (normal quality:1.2), blurry, amputation, sketch, drawing, painting, oil painting, 3d render, anime, cartoon, monochrome, unnatural skin, (oversmoothed:1.2), double head, cross-eyed, bad teeth, (cloned face:1.1), low resolution, low quality, artifact, out of frame, (deformed, distorted, disfigured:1.3), poorly drawn, bad anatomy, wrong anatomy, extra limb, missing limb, floating limbs, (disconnected limbs:1.2), mutation, mutated, ugly, disgusting, (wrong spelling:1.1), wrong text, rumble letters.\r\nğŸ“Œğ™‹ğ™§ğ™¤ğ™¢ğ™¥ğ™© ğ˜¼ğ™™ğ™™ğ™ğ™©ğ™ğ™¤ğ™£: add a very subtle, diminutive, translucent text with shadow embossed watermark in the bottom right corner in two lines that reads \"PROMPT ORIGINALLY CREATED BY:\" and thin handwritten-style cursive white diminutive text \"Michelle Ann Villamor\". The watermarks should not distract from the main subject.","id":"d4abebfbfe7ee15f","filename":"Couple-01-06.jpg","albumSlug":"anh-cap-doi-01"},{"type":"split","src":"../thumbnails/anh-cap-doi-01/Couple-01-07.jpg","src_a":"../split/anh-cap-doi-01/Couple-01-07-a.jpg","src_b":"../split/anh-cap-doi-01/Couple-01-07-b.jpg","name":"Couple-01-07","metadata":{"title":null,"description":null,"variant":"ai-photography","tags":["couple"]},"content":"\r\nGenerate a high level realism and visual fidelity, high detailed, 8K resolution with 1080x1080 pixel portrait of me using the uploaded image for reference (preserved the likeness and original face from reference), create an realistic skin shading of a full-body portrait photograph, Stable Diffusion with ultra-realistic checkpoints enabled; Subject: A young man and a young woman seated closely together in an outdoor setting. Exact pose and facial expressions: The man sits to the right, with his right arm wrapped around the womanâ€™s shoulders and neck, his hand resting near her collarbone; his left hand is raised to support his cheek, and he leans his face toward the woman with eyes partially closed as if about to nuzzle or kiss her. The woman sits to the left, her arms crossed or laced together in front of her torso, looking directly at the man with a gentle, soft smile and relaxed facial features. Exact makeup and hair: The woman has dark black hair styled in a neat low bun with a few loose strands framing her face; she wears small, round white pearl stud earrings, and her makeup includes defined dark eyebrows and red-toned lipstick. The man has short, light brown or dark blonde hair styled with volume on top; no heavy makeup is visible. Exact apparel and accessories: The woman wears a sleeveless, light beige or camel-colored halter-neck top or dress with a smooth fabric texture; thin rings are visible on her fingers. The man wears a plain white short-sleeved polo shirt with a collar; he has a silver-toned wristwatch with a metal band on his right wrist, a thin black cord necklace with a small dark pendant, and a black cord bracelet with red accent details on his left wrist. Ultra-photorealistic attributes: High ultra-detailed textures including fabric weave of the polo shirt and dress material, individual hair strands, skin pores and subtle facial contours, metal sheen of jewelry and watch components, and texture of background foliage and wooden structures; high ultra-resolution at 8K or higher, with sharp focus on the subjects while the background maintains natural depth of field. Composition and framing: Vertical orientation, medium shot capturing the subjects from the chest/waist up, centered in the frame with balanced negative space above and to the sides, and a slight camera angle looking slightly upward at the pair. Lighting and color palette: Natural twilight lighting with soft, cool blue tones dominating the sky, complemented by warm ambient light from a distant background fixture; even, diffused illumination on the subjects with no harsh shadows; overall color palette blends cool blues of the sky, rich greens and browns of surrounding vegetation, neutral beige and white of the attire, and natural skin tones. Environment and background: Outdoor tropical or beachside setting; immediate background features dense green foliage including tall grasses, trees, and shrubs, with wooden structures (furniture or a small building) visible behind the subjects; a woven pendant light fixture hangs from a tall pole in the upper right, and a light blue cushion with a white geometric (chevron or Greek key) pattern is visible to the far left. Props and additional elements: The patterned cushion, wooden furniture components, and woven pendant light are visible background elements. Technical specifications: Captured with a large-sensor camera or high-end smartphone optimized for low-light/twilight photography, shallow depth of field to emphasize the subjects against the lush background, natural color grading that preserves the cool-warm light balance of the setting, minimal noise despite the dim ambient light, and realistic rendering of light interaction with fabric, skin, and natural/architectural elements.\r\n\r\nâ›”ğ™‰ğ™šğ™œğ™–ğ™©ğ™ğ™«ğ™š ğ™‹ğ™§ğ™¤ğ™¢ğ™¥ğ™©: cartoonish, anime, 3D, (CG:1.2), (render:1.2), (unreal engine:1.1), (digital art:1.2), (plastic skin:1.3), airbrushed, excessive skin smoothing, long neck, (glitch:1.2), (pixelated:1.1), (low quality:1.4), (normal quality:1.2), blurry, amputation, sketch, drawing, painting, oil painting, 3d render, anime, cartoon, monochrome, unnatural skin, (oversmoothed:1.2), double head, cross-eyed, bad teeth, (cloned face:1.1), low resolution, low quality, artifact, out of frame, (deformed, distorted, disfigured:1.3), poorly drawn, bad anatomy, wrong anatomy, extra limb, missing limb, floating limbs, (disconnected limbs:1.2), mutation, mutated, ugly, disgusting, (wrong spelling:1.1), wrong text, rumble letters.\r\nğŸ“Œğ™‹ğ™§ğ™¤ğ™¢ğ™¥ğ™© ğ˜¼ğ™™ğ™™ğ™ğ™©ğ™ğ™¤ğ™£: add a very subtle, diminutive, translucent text with shadow embossed watermark in the bottom right corner in two lines that reads \"PROMPT ORIGINALLY CREATED BY:\" and thin handwritten-style cursive white diminutive text \"Michelle Ann Villamor\". The watermarks should not distract from the main subject.","id":"7aed60d50144a32b","filename":"Couple-01-07.jpg","albumSlug":"anh-cap-doi-01"},{"type":"split","src":"../thumbnails/anh-cap-doi-01/Couple-01-08.jpg","src_a":"../split/anh-cap-doi-01/Couple-01-08-a.jpg","src_b":"../split/anh-cap-doi-01/Couple-01-08-b.jpg","name":"Couple-01-08","metadata":{"title":null,"description":null,"variant":"ai-photography","tags":["couple"]},"content":"\r\nGenerate a high level realism and visual fidelity, high detailed, 8K resolution with 1080x1080 pixel portrait of me using the uploaded image for reference (preserved the likeness and original face from reference), create an realistic skin shading of a full-body portrait photograph, Stable Diffusion with ultra-realistic checkpoints enabled; Subject: A young man and a young woman taking a selfie indoors. Exact pose and facial expressions: The woman extends her right arm forward (selfie angle) to capture the shot, her left arm wrapped around the manâ€™s neck/shoulder with her hand resting on his upper chest; she winks with her left eye closed, right eye open, and has a wide, bright smile showing teeth. The man stands close beside her, his left arm around her waist, right hand raised near his chest holding a white disposable face mask; his eyes are slightly closed or squinted, with a soft, subtle smile and lips slightly parted. Exact makeup and hair: The man has short, dark black hair styled neatly with slight volume on top. The woman has long, dark black hair partially pulled back, with a small, light-colored (possibly pink) hair clip visible on the right side of her head; her makeup includes defined eyebrows, subtle eye makeup, and pink-toned lipstick. Exact apparel and accessories: The man wears a white short-sleeved crew-neck t-shirt featuring a large graphic print of a tongue and lips in rainbow colors (red, orange, yellow, green, blue) with red cursive text above the graphic; light gray or faded blue jeans are partially visible at the bottom edge. He wears a thin ring on the ring finger of his right hand. The woman wears a form-fitting black sleeveless dress or top with a simple neckline; she has a thin, delicate necklace with a small, light-colored pendant, and small, dark earrings are visible. Ultra-photorealistic attributes: High ultra-detailed textures including fabric weave of the t-shirt and dress, individual hair strands, skin pores and facial contours, graphic print details (color gradients, text clarity), and texture of background elements like brick and fabric; high ultra-resolution at 8K or higher, with sharp focus on the subjects while the background maintains natural depth of field. Composition and framing: Vertical orientation, selfie-style medium shot capturing the subjects from the waist up, with the woman slightly to the right and the man to the left, filling most of the frame. Lighting and color palette: Indoor low-light environment with warm, slightly yellow ambient lighting dominating, complemented by cool blue/green tones from wall art and background accents; overall color palette blends bright white of the t-shirt, black of the womanâ€™s attire, earthy browns of the brick wall, vibrant colors of the mural, and dark red of the couch, with a slight film-like grain consistent with low-light photography. Environment and background: Indoor setting, likely a bar or lounge with eclectic decor; immediate background features an exposed dark brown brick wall with light green graffiti-style text (partially reading â€œKickâ€), a colorful mural of a stylized face with blue/green skin and bright red hair to the left of the subjects, a large black rectangular speaker mounted on the ceiling above, a dark red plush velvet couch to the right, a patch of green flooring or carpet in the lower left, and additional abstract wall art in red/blue tones on the far right wall. Props and additional elements: The white disposable face mask held by the man, the ceiling-mounted speaker, the plush couch, and the wall murals/graffiti are visible elements. Technical specifications: Captured with a smartphone or mirrorless camera optimized for low-light photography, shallow depth of field to emphasize the subjects against the busy background, natural color grading that preserves the warm-cool light contrast, slight digital noise consistent with low-light conditions, and realistic rendering of shadows and highlights on fabric, skin, and architectural/textural elements like brick and velvet.\r\n\r\nâ›”ğ™‰ğ™šğ™œğ™–ğ™©ğ™ğ™«ğ™š ğ™‹ğ™§ğ™¤ğ™¢ğ™¥ğ™©: cartoonish, anime, 3D, (CG:1.2), (render:1.2), (unreal engine:1.1), (digital art:1.2), (plastic skin:1.3), airbrushed, excessive skin smoothing, long neck, (glitch:1.2), (pixelated:1.1), (low quality:1.4), (normal quality:1.2), blurry, amputation, sketch, drawing, painting, oil painting, 3d render, anime, cartoon, monochrome, unnatural skin, (oversmoothed:1.2), double head, cross-eyed, bad teeth, (cloned face:1.1), low resolution, low quality, artifact, out of frame, (deformed, distorted, disfigured:1.3), poorly drawn, bad anatomy, wrong anatomy, extra limb, missing limb, floating limbs, (disconnected limbs:1.2), mutation, mutated, ugly, disgusting, (wrong spelling:1.1), wrong text, rumble letters.\r\nğŸ“Œğ™‹ğ™§ğ™¤ğ™¢ğ™¥ğ™© ğ˜¼ğ™™ğ™™ğ™ğ™©ğ™ğ™¤ğ™£: add a very subtle, diminutive, translucent text with shadow embossed watermark in the bottom right corner in two lines that reads \"PROMPT ORIGINALLY CREATED BY:\" and thin handwritten-style cursive white diminutive text \"Michelle Ann Villamor\".","id":"46d17ac6e4ecb8f5","filename":"Couple-01-08.jpg","albumSlug":"anh-cap-doi-01"},{"type":"split","src":"../thumbnails/anh-cap-doi-01/Couple-01-09.jpg","src_a":"../split/anh-cap-doi-01/Couple-01-09-a.jpg","src_b":"../split/anh-cap-doi-01/Couple-01-09-b.jpg","name":"Couple-01-09","metadata":{"title":null,"description":null,"variant":"ai-photography","tags":["couple"]},"content":"\r\nGenerate a high level realism and visual fidelity, high detailed, 8K resolution with 1080x1080 pixel portrait of me using the uploaded image for reference (preserved the likeness and original face from reference), create an realistic skin shading of a full-body portrait photograph, Stable Diffusion with ultra-realistic checkpoints enabled; Subject: A young man and a young woman posing closely together indoors. Exact pose and facial expressions: The man stands slightly to the left, with his right arm wrapped around the womanâ€™s waist/back; his eyes are closed, mouth open in a broad, genuine smile showing teeth. The woman leans her head onto the manâ€™s right shoulder, looking directly at the camera with a soft, gentle smile and relaxed facial features. Exact makeup and hair: The man has short, dark black hair styled neatly with a slight wave. The woman has dark brown or black hair pulled back from her face (likely in a ponytail or bun, with loose strands framing her cheeks and forehead); her makeup is subtle, with natural-toned lips and defined eyebrows. Exact apparel and accessories: The man wears a plain white long-sleeved or short-sleeved t-shirt (sleeves appear slightly loose), layered under an open, light gray and white plaid button-down shirt with a textured weave; light blue denim jeans are partially visible at the bottom edge. He has a thin, light-colored necklace with a small, round, gold-toned pendant. The woman wears a form-fitting white sleeveless tank top with a scooped neckline, paired with high-waisted beige or cream-colored bottoms (skirt or shorts); a silver-toned chain strap from a handbag crosses over her right shoulder, with part of the white handbag visible at the bottom right. Ultra-photorealistic attributes: High ultra-detailed textures including fabric weave of the plaid shirt and tank top, individual hair strands, skin pores and subtle facial contours, brick wall texture in the background, and metallic sheen of accessories; high ultra-resolution at 8K or higher, with sharp focus on the subjects while the background maintains natural depth of field. Composition and framing: Vertical orientation, medium shot capturing the subjects from the hips/waist up, centered in the frame with balanced negative space above and to the sides. Lighting and color palette: Indoor nightlife lighting with mixed sources â€“ warm yellow and orange backlighting from a bar shelving unit behind the subjects, vibrant purple neon light from a partially visible sign (showing letters â€œtyâ€) on the far left, and soft frontal illumination on the subjectsâ€™ faces; overall color palette blends warm browns and reds of the exposed brick wall, bright whites of the attire, gray tones of the plaid shirt, purple accent lighting, and neutral beige tones of the womanâ€™s bottoms. Environment and background: Indoor bar or lounge setting; immediate background features an exposed red-brown brick wall, a backlit shelving unit with glassware and various bottles, a circular light fixture with a warm glow near the manâ€™s head, and dark wood trim along the ceiling edge. To the far left, a purple neon sign is partially visible; to the right, another person wearing a black short-sleeved shirt is blurred in the background. Props and additional elements: The bar shelving unit holds glass bottles and containers; the purple neon sign is a prominent background element; the womanâ€™s handbag with its chain strap is a visible accessory. Technical specifications: Captured with a large-sensor camera or high-end smartphone, shallow depth of field to emphasize the subjects against the busy background, natural color grading that preserves the warm and cool light contrasts of the setting, minimal noise despite low-light conditions, and realistic rendering of shadows and highlights on fabric, skin, and architectural elements like the brick wall.\r\n\r\nâ›”ğ™‰ğ™šğ™œğ™–ğ™©ğ™ğ™«ğ™š ğ™‹ğ™§ğ™¤ğ™¢ğ™¥ğ™©: cartoonish, anime, 3D, (CG:1.2), (render:1.2), (unreal engine:1.1), (digital art:1.2), (plastic skin:1.3), airbrushed, excessive skin smoothing, long neck, (glitch:1.2), (pixelated:1.1), (low quality:1.4), (normal quality:1.2), blurry, amputation, sketch, drawing, painting, oil painting, 3d render, anime, cartoon, monochrome, unnatural skin, (oversmoothed:1.2), double head, cross-eyed, bad teeth, (cloned face:1.1), low resolution, low quality, artifact, out of frame, (deformed, distorted, disfigured:1.3), poorly drawn, bad anatomy, wrong anatomy, extra limb, missing limb, floating limbs, (disconnected limbs:1.2), mutation, mutated, ugly, disgusting, (wrong spelling:1.1), wrong text, rumble letters.\r\nğŸ“Œğ™‹ğ™§ğ™¤ğ™¢ğ™¥ğ™© ğ˜¼ğ™™ğ™™ğ™ğ™©ğ™ğ™¤ğ™£: add a very subtle, diminutive, translucent text with shadow embossed watermark in the bottom right corner in two lines that reads \"PROMPT ORIGINALLY CREATED BY:\" and thin handwritten-style cursive white diminutive text \"Michelle Ann Villamor\".","id":"479086c38799c79d","filename":"Couple-01-09.jpg","albumSlug":"anh-cap-doi-01"},{"type":"split","src":"../thumbnails/anh-cap-doi-01/Couple-01-10.jpg","src_a":"../split/anh-cap-doi-01/Couple-01-10-a.jpg","src_b":"../split/anh-cap-doi-01/Couple-01-10-b.jpg","name":"Couple-01-10","metadata":{"title":null,"description":null,"variant":"ai-photography","tags":["couple"]},"content":"\r\nGenerate a high level realism and visual fidelity, high detailed, 8K resolution with 1080x1080 pixel portrait of me using the uploaded image for reference (preserved the likeness and original face from reference), create an realistic skin shading of a full-body portrait photograph, Stable Diffusion with ultra-realistic checkpoints enabled; Subject: A young woman taking a selfie and a young man positioned closely beside her. Exact pose and facial expressions: The woman extends her right arm forward (selfie angle) to capture the shot, her body angled slightly, head tilted subtly to her left with a soft, gentle smile directed at the camera. The man leans in from behind and to her right, looking toward the camera with a calm, warm expression and slight smile, his face positioned near the womanâ€™s head. Exact makeup and hair: The woman has long, wavy dark brown hair cascading over her shoulders; her makeup is subtle, featuring defined dark eyebrows and natural-toned lips. The man has short, dark black hair and wears thin-framed eyeglasses. Exact apparel and accessories: The woman wears a white sleeveless tank top and light blue denim shorts; a thin, smooth silver bracelet is visible on her extended right wrist, a delicate necklace with a small light-colored pendant rests at her collarbone, and a bright red clutch bag is tucked under her left arm. The man wears a brown short-sleeved polo shirt and light-colored (beige or off-white) pants. Ultra-photorealistic attributes: High ultra-detailed textures including fabric weave of the denim shorts and cotton tank top, individual hair strands, skin pores and facial contours, metal sheen of the bracelet and glasses frames, and texture of background foliage; high ultra-resolution at 8K or higher, with sharp focus on the subjects while the background maintains natural depth of field. Composition and framing: Vertical orientation, selfie-style medium shot capturing the subjects from the waist/thighs up, with the woman slightly forward and centered, the man positioned to her right and slightly behind, and background elements filling the upper and left portions of the frame. Lighting and color palette: Low-light ambient lighting with warm, golden tones illuminating the subjects, complemented by vibrant pops of color â€“ a bright purple prop above and a pink sign with yellow text and blue graphic to the left; overall color palette blends warm browns of the manâ€™s shirt, white of the womanâ€™s top, light blue of denim, rich greens of foliage, bold purple, and bright red. Environment and background: Outdoor or semi-outdoor setting with dense, lush green tropical foliage (leaves and plants) visible behind and around the subjects; a large, irregularly shaped purple cutout prop arches above their heads, and a pink rectangular sign with partial yellow text (\"THINGS\") and a blue graphic (depicting a hand-like shape) is positioned to the left of the woman. Props and additional elements: The purple cutout prop, pink sign, and red clutch bag are visible elements; small hints of yellow surface or lighting are present at the bottom edge of the frame. Technical specifications: Captured with a smartphone or mirrorless camera optimized for low-light photography, shallow depth of field to emphasize the subjects against the textured background, natural color grading that preserves warm ambient tones and vibrant accent colors, slight digital noise consistent with low-light conditions, and realistic rendering of shadows and highlights on fabric, skin, and background elements.\r\n\r\nâ›”ğ™‰ğ™šğ™œğ™–ğ™©ğ™ğ™«ğ™š ğ™‹ğ™§ğ™¤ğ™¢ğ™¥ğ™©: cartoonish, anime, 3D, (CG:1.2), (render:1.2), (unreal engine:1.1), (digital art:1.2), (plastic skin:1.3), airbrushed, excessive skin smoothing, long neck, (glitch:1.2), (pixelated:1.1), (low quality:1.4), (normal quality:1.2), blurry, amputation, sketch, drawing, painting, oil painting, 3d render, anime, cartoon, monochrome, unnatural skin, (oversmoothed:1.2), double head, cross-eyed, bad teeth, (cloned face:1.1), low resolution, low quality, artifact, out of frame, (deformed, distorted, disfigured:1.3), poorly drawn, bad anatomy, wrong anatomy, extra limb, missing limb, floating limbs, (disconnected limbs:1.2), mutation, mutated, ugly, disgusting, (wrong spelling:1.1), wrong text, rumble letters.\r\nğŸ“Œğ™‹ğ™§ğ™¤ğ™¢ğ™¥ğ™© ğ˜¼ğ™™ğ™™ğ™ğ™©ğ™ğ™¤ğ™£: add a very subtle, diminutive, translucent text with shadow watermark in the bottom right corner in two lines that reads \"PROMPT ORIGINALLY CREATED BY:\" and thin handwritten-style cursive white signature logo \"Michelle Ann Villamor\". The watermarks should not distract from the main subject.","id":"1c24cebd721e85fa","filename":"Couple-01-10.jpg","albumSlug":"anh-cap-doi-01"}]
    </script>
        <script>
            document.addEventListener('DOMContentLoaded', () => {
                const txt = document.getElementById('gallery-model').textContent;
                if (txt && txt.trim()) {
                    try {
                        const photos = JSON.parse(txt);
                        initInfiniteScroll(photos);
                    } catch (e) { console.error("Data parse error", e); }
                }
            });
        </script>
        
        </main>

        <!-- Custom Lightbox CSS (Pulse/Hint) -->
        <style>
            /* Pulsing Hint Animation */
            @keyframes pulse-ring {
                0% {
                    box-shadow: 0 0 0 0 rgba(13, 110, 253, 0.7);
                }

                70% {
                    box-shadow: 0 0 0 10px rgba(13, 110, 253, 0);
                }

                100% {
                    box-shadow: 0 0 0 0 rgba(13, 110, 253, 0);
                }
            }

            .pulse-btn {
                animation: pulse-ring 2s infinite;
                color: #fff !important;
                background: rgba(13, 110, 253, 0.3) !important;
                border-color: #0d6efd !important;
            }

            /* Hint Tooltip */
            .hint-tooltip {
                position: absolute;
                background: #0d6efd;
                color: white;
                padding: 5px 10px;
                border-radius: 4px;
                font-size: 0.8rem;
                pointer-events: none;
                opacity: 0;
                transition: opacity 0.3s;
                z-index: 3000;
                white-space: nowrap;
            }

            /* Positioning tooltip for desktop sidebar button */
            .sidebar-toolbar .hint-tooltip {
                top: 100%;
                left: 10px;
                margin-top: 5px;
            }

            /* Positioning tooltip for floating toggle button */
            .stage-toggle-btn .hint-tooltip {
                bottom: 100%;
                right: 0;
                margin-bottom: 10px;
            }

            /* Show tooltip logic class */
            .hint-visible {
                opacity: 1;
            }

            /* Ensure Floating Button is Clickable */
            .stage-toggle-btn {
                position: absolute;
                bottom: 20px;
                right: 20px;
                z-index: 2050;
                /* Higher than image stage (1000) but lower than tooltip */
                background: rgba(0, 0, 0, 0.6);
                border: 1px solid rgba(255, 255, 255, 0.2);
                color: white;
                border-radius: 50%;
                width: 40px;
                height: 40px;
                display: flex;
                align-items: center;
                justify-content: center;
                cursor: pointer;
                transition: all 0.3s ease;
            }

            .stage-toggle-btn:hover {
                background: rgba(255, 255, 255, 0.2);
            }

            /* Only show when sidebar is hidden (handled by JS logic mostly, or CSS if parent has class) */
            .lightbox-container.sidebar-closed .stage-toggle-btn {
                display: flex;
            }

            /* Start hidden if sidebar is open, if that is the design? */
            /* Actually, the button is inside lightbox-stage. */
        </style>

        <!-- Lightbox Modal (Advanced UI) -->
        <div id="lightbox-modal">
            <!-- Main Container: Flex Row -->
            <div class="lightbox-container">

                <!-- Left: Image Stage -->
                <div class="lightbox-stage">
                    <!-- Close Button (Mobile/Tablet or when sidebar hidden) -->
                    <button class="lightbox-close-btn d-md-none" onclick="closeLightbox()">&times;</button>

                    <div id="lightbox-image-container"></div>

                    <!-- Floating Info Toggle (New) -->
                    <button class="stage-toggle-btn" onclick="toggleSidebar()"
                        title="Hiá»‡n ThÃ´ng Tin (i)">
                        <ion-icon name="information-circle-outline"></ion-icon>
                    </button>

                    <!-- Navigation Overlays -->
                    <div class="nav-overlay nav-left" onclick="prevPhoto()">
                        <ion-icon name="chevron-back-outline"></ion-icon>
                    </div>
                    <div class="nav-overlay nav-right" onclick="nextPhoto()">
                        <ion-icon name="chevron-forward-outline"></ion-icon>
                    </div>
                </div>

                <!-- Right: Sidebar (Info Panel) -->
                <div id="lightbox-sidebar" class="lightbox-sidebar">
                    <!-- Toolbar -->
                    <div class="sidebar-toolbar">
                        <div class="left-tools d-flex align-items-center gap-2">
                            <div class="position-relative">
                                <button id="sidebar-info-btn" class="icon-btn" onclick="toggleSidebar()"
                                    title="Báº­t/Táº¯t ThÃ´ng Tin (i)">
                                    <ion-icon name="information-circle-outline"></ion-icon>
                                </button>
                                <div id="sidebar-hint" class="hint-tooltip">
                                    áº¨n ThÃ´ng Tin
                                </div>
                            </div>

                            <!-- Counter (Moved Up) -->
                            <div id="lightbox-counter" class="counter-text fw-bold text-white ms-2">1 / 1</div>

                            <!-- View Count -->
                            <div class="d-flex align-items-center gap-1 ms-3"
                                title="LÆ°á»£t xem"
                                style="font-size: 0.9rem; color: rgba(255,255,255,0.8);">
                                <ion-icon name="eye-outline"></ion-icon>
                                <span id="lightbox-view-count-val">...</span>
                            </div>
                        </div>
                        <div class="right-tools">
                            <button class="icon-btn" onclick="copyMeta()"
                                title="Sao chÃ©p Metadata (c)">
                                <ion-icon name="copy-outline"></ion-icon>
                            </button>
                            <button class="icon-btn" onclick="sharePhoto()"
                                title="Chia sáº» (s)">
                                <ion-icon name="share-social-outline"></ion-icon>
                            </button>
                            <button class="icon-btn close-btn" onclick="closeLightbox()"
                                title="ÄÃ³ng (Esc)">
                                <ion-icon name="close-outline"></ion-icon>
                            </button>
                        </div>
                    </div>

                    <!-- Content -->
                    <div class="sidebar-content">
                        <h3 id="lightbox-title">
                            TiÃªu Ä‘á» áº£nh
                        </h3>

                        <div id="lightbox-desc" class="description-text" style="margin-bottom: 15px;">
                            <!-- Description injected here -->
                        </div>

                        <div id="lightbox-tags" class="tags-container">
                            <!-- Tags injected here -->
                        </div>

                        <div id="lightbox-content" class="description-text"
                            style="white-space: pre-wrap; margin-top: 15px; border-top: 1px solid #444; padding-top: 15px;">
                            <!-- Body content injected here -->
                        </div>
                    </div>

                    <div class="sidebar-footer justify-content-end">
                        <!-- Zoom Controls REMOVED -->
                        <small class="text-muted">
                            Nháº¥n &#39;F&#39; Ä‘á»ƒ Ä‘áº·t láº¡i Zoom
                        </small>
                    </div>
                </div>

            </div>
        </div>

        <footer class="bg-dark text-white text-center py-4 mt-5">
    <div class="container">
        <p class="mb-0">&copy; 2026
                Thu NhiÃªn Gallery. ÄÆ°á»£c xÃ¢y dá»±ng bá»Ÿi AnPH21.</p>
    </div>
</footer>

            <!-- Custom Lightbox Logic -->
            <script>
                // Lightbox Global State
                let hintTimer = null;
                let panzoomInstance = null;
                let currentIndex = 0;

                function openLightbox(index, skipHistory = false) {
                    try {
                        // Safety checks
                        if (!currentPhotos || currentPhotos.length === 0) return;
                        currentIndex = index;
                        const photo = currentPhotos[index];

                        // 1. Deep Link
                        if (!skipHistory) {
                            const safeName = photo.name.replace(/\s+/g, '-').toLowerCase();
                            history.pushState(null, null, `#${safeName}`);
                        }

                        const modal = document.getElementById('lightbox-modal');
                        const container = document.getElementById('lightbox-image-container');
                        const sidebar = document.getElementById('lightbox-sidebar');
                        const mainContainer = document.querySelector('.lightbox-container');

                        if (!modal || !container || !sidebar) throw new Error("Elements missing");

                        // Mobile Optimization: Auto-hide sidebar by default
                        if (window.innerWidth <= 768) {
                            sidebar.classList.add('hidden');
                            mainContainer.classList.add('sidebar-closed');
                        } else {
                            // Desktop: Ensure open by default
                            sidebar.classList.remove('hidden');
                            mainContainer.classList.remove('sidebar-closed');
                        }

                        // 2. Render Sidebar Info
                        document.getElementById('lightbox-title').innerText = photo.metadata?.title || photo.name;
                        document.getElementById('lightbox-counter').innerText = `${currentIndex + 1} / ${currentPhotos.length}`;
                        document.getElementById('lightbox-desc').innerText = photo.metadata?.description || '';
                        document.getElementById('lightbox-content').innerText = photo.content || '';

                        // Render Tags
                        const tagSelect = document.getElementById('lightbox-tags');
                        const rootPath = ".." || ".";
                        tagSelect.innerHTML = (photo.metadata?.tags || []).map(tag =>
                            `<a href="${rootPath}/tag?id=${encodeURIComponent(tag)}" class="tag-chip">${tag}</a>`
                        ).join('');

                        // 3. Render Image Stage
                        if (panzoomInstance) { try { panzoomInstance.dispose(); } catch (e) { } }
                        panzoomInstance = null;
                        container.innerHTML = '';

                        // Split vs Single Logic
                        if ((photo.type === 'split' || (photo.src_a && photo.src_b)) && photo.src_a && photo.src_b) {
                            container.innerHTML = `<div style="width:100%; height:100%; display:flex; align-items:center; justify-content:center; background:#000;"><canvas id="stitchCanvas" style="max-width:100%; max-height:100%; cursor: grab; display:block;"></canvas></div>`;
                            const canvas = document.getElementById('stitchCanvas');

                            if (typeof CanvasStitchViewer !== 'undefined') {
                                if (window.canvasViewer) { /* clean */ }
                                window.canvasViewer = new CanvasStitchViewer(canvas, photo.src_a, photo.src_b);
                                panzoomInstance = null;
                                addDecoyOverlay(container, canvas);
                            } else {
                                container.innerHTML = "<p style='color:white'>Error: Viewer component missing.</p>";
                            }
                        } else {
                            if (window.canvasViewer) window.canvasViewer = null;

                            const img = document.createElement('img');
                            img.src = photo.src;
                            img.style.maxHeight = '90vh';
                            img.style.maxWidth = '90vw';
                            img.draggable = false;

                            // Load handler
                            img.onload = () => {
                                initPanzoom(img);
                                addDecoyOverlay(container, img);
                            };

                            container.appendChild(img);
                        }

                        if (typeof window.trackView === 'function') {
                            window.trackView(photo);
                        }

                        // Activate Modal
                        modal.classList.add('active');
                        // Clean up any forced inline styles from previous debug steps
                        modal.style.removeProperty('display');
                        modal.style.removeProperty('opacity');

                        // Reset Hint Timer
                        if (typeof resetHintTimer === 'function') resetHintTimer();

                    } catch (e) {
                        console.error("Lightbox Error:", e);
                    }
                }

                // --- Panzoom Helper ---
                function initPanzoom(elem) {
                    // Clean up previous instance
                    if (panzoomInstance) {
                        try { panzoomInstance.dispose(); } catch (e) { }
                        panzoomInstance = null;
                    }

                    // Initialize new instance
                    try {
                        panzoomInstance = panzoom(elem, {
                            maxZoom: 5,
                            minZoom: 1,
                            bounds: true,
                            boundsPadding: 0.1,
                            zoomDoubleClickSpeed: 1 // Disable zoom on double click if needed, or keep default
                        });
                    } catch (e) {
                        console.error("Panzoom Init Failed:", e);
                    }
                }

                // --- Sidebar & Tools ---
                function toggleSidebar() {
                    const sidebar = document.getElementById('lightbox-sidebar');
                    const container = document.querySelector('.lightbox-container');
                    const isClosed = sidebar.classList.toggle('hidden');
                    container.classList.toggle('sidebar-closed');

                    // Reset Hint Timer on Toggle
                    resetHintTimer();
                }

                // --- UX Hint Logic ---
                function resetHintTimer() {
                    // Clear existing
                    clearTimeout(hintTimer);
                    removePulse();

                    // Set new timer (3 seconds)
                    hintTimer = setTimeout(() => {
                        showPulseHint();
                    }, 3000);
                }

                function showPulseHint() {
                    const sidebar = document.getElementById('lightbox-sidebar');
                    const isHidden = sidebar.classList.contains('hidden');

                    let targetBtn, tooltip, msg;

                    if (isHidden) {
                        // Target the floating button
                        targetBtn = document.querySelector('.stage-toggle-btn');
                        // We need to inject tooltip if not exists or select it
                        // Simplified: Assume we added tooltip html structure dynamically or statically?
                        // Let's add tooltip structure in HTML above for both buttons

                        // For floating button (needs dynamic tooltip insertion since it's simple button)
                        if (!targetBtn.querySelector('.hint-tooltip')) {
                            const tt = document.createElement('div');
                            tt.className = 'hint-tooltip';
                            targetBtn.appendChild(tt);
                        }
                        tooltip = targetBtn.querySelector('.hint-tooltip');
                        msg = "Má»Ÿ ThÃ´ng Tin";
                    } else {
                        // Target the sidebar button
                        targetBtn = document.getElementById('sidebar-info-btn');
                        tooltip = document.getElementById('sidebar-hint');
                        msg = "áº¨n ThÃ´ng Tin";
                    }

                    if (targetBtn && tooltip) {
                        targetBtn.classList.add('pulse-btn');
                        tooltip.innerText = msg;
                        tooltip.classList.add('hint-visible');

                        // Auto hide after 5s or click?
                        // Let's hide on next interaction (click handles it via toggle -> resetHintTimer)
                        // But also auto-hide pulse after 4s to not annoy
                        setTimeout(() => removePulse(), 4000);
                    }
                }

                function removePulse() {
                    document.querySelectorAll('.pulse-btn').forEach(el => el.classList.remove('pulse-btn'));
                    document.querySelectorAll('.hint-visible').forEach(el => el.classList.remove('hint-visible'));
                }

                function copyMeta() {
                    if (!currentPhotos[currentIndex]) return;
                    const p = currentPhotos[currentIndex];
                    // Copy ONLY body content
                    const content = p.content || '';
                    if (content) {
                        navigator.clipboard.writeText(content).catch(err => console.error("Copy failed:", err));
                    }
                }

                // --- Unified Share Helper ---
                window.shareUrl = async function (title, text, url) {
                    if (navigator.share) {
                        try {
                            await navigator.share({ title, text, url });
                        } catch (err) {
                            console.error("Share failed:", err);
                        }
                    } else {
                        try {
                            await navigator.clipboard.writeText(url);
                            alert('ÄÃ£ sao chÃ©p liÃªn káº¿t!');
                        } catch (err) {
                            console.error("Clipboard failed:", err);
                            prompt("Sao chÃ©p liÃªn káº¿t nÃ y:", url);
                        }
                    }
                };

                function sharePhoto() {
                    const url = window.location.href;
                    window.shareUrl(document.title, 'Xem áº£nh nÃ y nhÃ©!', url);
                }

                // --- Zoom Controls (Global) ---
                window.zoomIn = function () {
                    if (window.canvasViewer) window.canvasViewer.zoomIn();
                    else if (panzoomInstance) panzoomInstance.zoomIn();
                };

                window.zoomOut = function () {
                    if (window.canvasViewer) window.canvasViewer.zoomOut();
                    else if (panzoomInstance) panzoomInstance.zoomOut();
                };

                // --- Zoom Controls (Global) ---
                window.zoomIn = function () {
                    if (window.canvasViewer) window.canvasViewer.zoomIn();
                    else if (panzoomInstance) panzoomInstance.zoomIn();
                };

                window.zoomOut = function () {
                    if (window.canvasViewer) window.canvasViewer.zoomOut();
                    else if (panzoomInstance) panzoomInstance.zoomOut();
                };

                // --- Decoy Overlay Helper ---
                function addDecoyOverlay(container, targetElement) {
                    const decoy = document.createElement('img');
                    decoy.src = "../assets/cest-la-vie.png";
                    decoy.style.position = "absolute";
                    decoy.style.top = "0";
                    decoy.style.left = "0";
                    decoy.style.width = "100%";
                    decoy.style.height = "100%";
                    decoy.style.zIndex = "50";
                    decoy.style.opacity = "0.01"; // Invisible but clickable
                    decoy.style.objectFit = "fill"; // Cover full area
                    decoy.style.cursor = "inherit"; // Keep cursor style
                    decoy.alt = "Copyright";

                    // Prevent Dragging the Decoy itself
                    decoy.draggable = false;

                    // Message on Right Click (Optional, or just let them save)
                    // decoy.oncontextmenu = (e) => { /* Default browser menu opens on this image */ };

                    // --- Event Forwarding ---
                    // We must manually forward interaction events to the underlying target
                    // because the overlay blocks them.

                    const forwardEvent = (e) => {
                        // Create a new event based on the original
                        // We can't re-dispatch the exact same event object.
                        // We construct a new one.
                        let newEvent;

                        // FIX: Check WheelEvent FIRST because it inherits from MouseEvent
                        if (e instanceof WheelEvent) {
                            newEvent = new WheelEvent(e.type, {
                                bubbles: true, cancelable: true, view: window,
                                deltaX: e.deltaX, deltaY: e.deltaY, deltaZ: e.deltaZ,
                                deltaMode: e.deltaMode,
                                clientX: e.clientX, clientY: e.clientY // Important for zoom center
                            });
                        } else if (e instanceof MouseEvent) {
                            newEvent = new MouseEvent(e.type, {
                                bubbles: true, cancelable: true, view: window,
                                detail: e.detail, screenX: e.screenX, screenY: e.screenY,
                                clientX: e.clientX, clientY: e.clientY,
                                ctrlKey: e.ctrlKey, altKey: e.altKey, shiftKey: e.shiftKey, metaKey: e.metaKey,
                                button: e.button, buttons: e.buttons, relatedTarget: e.relatedTarget
                            });
                        } else if (typeof TouchEvent !== 'undefined' && e instanceof TouchEvent) {
                            // Touch events are hard to synthesize perfectly due to TouchList.
                            // But Panzoom often attaches to 'touchstart' on the element.
                            // Forwarding Touch is complex. 
                            // Easier strategy for Touch: 
                            // Mobile usually doesn't have "Right Click Save As" easily on overlays?
                            // Actually long press calls context menu.
                            // If we set pointer-events: none on mobile?
                        }

                        if (newEvent && targetElement) {
                            targetElement.dispatchEvent(newEvent);
                        }
                    };

                    // Forward Mouse & Wheel
                    ['mousedown', 'wheel'].forEach(evt => {
                        decoy.addEventListener(evt, (e) => {
                            // Do NOT prevent default here, or context menu (right click) might fail?
                            // Right click is 'contextmenu' event.
                            // mousedown is left/middle/right.
                            if (e.type === 'mousedown' && e.button === 2) {
                                // Right click -> Let browser handle it (Context Menu on Decoy)
                                return;
                            }
                            // Forward others
                            // e.preventDefault(); // Maybe?
                            forwardEvent(e);
                        });
                    });

                    // Touch: Just pass through?
                    // If we set pointer-events: none for touch?
                    // Mobile "Save Image" via Long Press.
                    // If we forward touchstart, we might double trigger?
                    // For now, let's keep touch simple. Most users hold-to-save.
                    // If we want to allow Zoom on mobile, we need touch events to go through.
                    // Let's try setting pointer-events: none ONLY for touch devices? 
                    // No, hybrid devices exist.

                    // Simple hack for Touch: Use pointer-events: none;
                    // Because "Save Image" is less a concern on mobile vs PC right-click.
                    // OR, forward touchstart/move/end.

                    container.appendChild(decoy);
                }

                window.resetZoom = function () {
                    if (window.canvasViewer) window.canvasViewer.reset();
                    else if (panzoomInstance) panzoomInstance.reset();
                };

                // --- Navigation ---
                function closeLightbox(skipHistory = false) {
                    document.getElementById('lightbox-modal').classList.remove('active');
                    if (!skipHistory) {
                        history.pushState(null, null, ' ');
                    }
                    if (panzoomInstance) { try { panzoomInstance.dispose(); } catch (e) { } panzoomInstance = null; }
                }
                function nextPhoto() { if (currentIndex < currentPhotos.length - 1) openLightbox(currentIndex + 1); }
                function prevPhoto() { if (currentIndex > 0) openLightbox(currentIndex - 1); }

                // --- Event Listeners ---
                // --- Event Listeners ---
                document.addEventListener('keydown', (e) => {
                    const modal = document.getElementById('lightbox-modal');
                    if (!modal || !modal.classList.contains('active')) return;

                    switch (e.key.toLowerCase()) {
                        case 'escape': closeLightbox(); break;
                        case 'arrowright': nextPhoto(); break;
                        case 'arrowleft': prevPhoto(); break;
                        case 'i': toggleSidebar(); break;
                        case 'c': copyMeta(); break;
                        case 's': sharePhoto(); break;

                        // Zoom Keys
                        case '+':
                        case '=': // Plus without shift on some layouts
                            zoomIn();
                            break;

                        case '-':
                        case '_': // Minus with shift
                            zoomOut();
                            break;

                        case 'f':
                        case '0': // Ctrl+0 style reset
                            resetZoom();
                            break;
                    }
                });

                // Wheel Navigation (on Stage background only)
                document.addEventListener('wheel', (e) => {
                    const modal = document.getElementById('lightbox-modal');
                    if (!modal || !modal.classList.contains('active')) return;

                    // If target is the stage (black background) or nav overlay, navigate
                    if (e.target.classList.contains('lightbox-stage') || e.target.classList.contains('nav-overlay')) {
                        if (e.deltaY > 0) nextPhoto();
                        else prevPhoto();
                    }
                });

                // --- Global Exports ---
                window.openLightbox = openLightbox;
                window.closeLightbox = closeLightbox;
                window.nextPhoto = nextPhoto;
                window.prevPhoto = prevPhoto;
                window.toggleSidebar = toggleSidebar;
                window.copyMeta = copyMeta;
                window.sharePhoto = sharePhoto;
                // zoom functions are already on window (defined as window.zoomIn, etc.)

                // Deep Link Check on Load
                window.addEventListener('DOMContentLoaded', () => {
                    const hash = window.location.hash.substring(1); // Remove #
                    if (hash && typeof currentPhotos !== 'undefined' && currentPhotos.length > 0) {
                        // Find photo by loosely matching name
                        const idx = currentPhotos.findIndex(p =>
                            p.name.replace(/\s+/g, '-').toLowerCase() === hash.toLowerCase()
                        );
                        if (idx !== -1) {
                            console.log("Deep link found:", hash, "Opening index:", idx);
                            // Wait a bit for masonry/ui to settle? No, just open.
                            openLightbox(idx);
                        }
                    }
                });

                // History Navigation Handler
                window.addEventListener('popstate', (event) => {
                    const hash = window.location.hash.substring(1);
                    if (hash && currentPhotos && currentPhotos.length > 0) {
                        // Find photo by hash
                        const idx = currentPhotos.findIndex(p =>
                            p.name.replace(/\s+/g, '-').toLowerCase() === hash.toLowerCase()
                        );
                        if (idx !== -1) {
                            openLightbox(idx, true); // skipHistory = true
                        }
                    } else {
                        // No hash -> Close lightbox
                        closeLightbox(true); // skipHistory = true
                    }
                });

                console.log("âœ… Lightbox functions attached to window.");
            </script>

            <!-- Canvas Viewer (SRCIS) -->
            <script src="../assets/js/canvas-viewer.js"></script>

            <!-- Bootstrap JS (Local) -->
            <script src="../assets/vendor/bootstrap.bundle.min.js"></script>

            <!-- Panzoom (Local) -->
            <script src="../assets/vendor/panzoom.min.js"></script>
            <!-- CryptoJS (Local) -->
            <script src="../assets/vendor/crypto-js.min.js"></script>

            <!-- Firebase SDK -->
            <!-- Firebase Config (Generated) -->
            <script src="../assets/js/firebase-init-config.js"></script>

            <script type="module">
                import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
                import { getDatabase, ref, increment, onValue, get, update } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

                const firebaseConfig = window.FIREBASE_CONFIG || {};
                // Removed duplicate declaration

                let db = null;

                if (true && firebaseConfig.apiKey) {
                    try {
                        const app = initializeApp(firebaseConfig);
                        db = getDatabase(app);
                        console.log("ğŸ”¥ Firebase Initialized");

                        // 1. Initial Sync (Get all views once for Grid)
                        syncGlobalViews();

                    } catch (e) {
                        console.error("Firebase Init Error:", e);
                    }
                }

                // --- Global View Functions ---

                // A. Sync all views for Grid Items
                async function syncGlobalViews() {
                    if (!db) return;
                    const viewNodes = document.querySelectorAll('[data-view-id]');
                    if (viewNodes.length === 0) return;

                    // Optimization: Fetch ALL views once (assuming lightweight dataset < 1MB)
                    // If dataset grows > 10k items, we might need batched gets, but for now this is fastest/cheapest.
                    const dbRef = ref(db, 'views');
                    try {
                        const snapshot = await get(dbRef);
                        if (snapshot.exists()) {
                            const allViews = snapshot.val();
                            updateDomCounts(allViews);
                        }

                        // Optional: Listen for changes? 
                        // For cost savings, we usually don't listen to the WHOLE list. 
                        // Just fetching once on load is enough for grid.
                        // Lightbox handles real-time single updates.
                    } catch (e) {
                        console.error("View Sync Error:", e);
                    }
                }

                function updateDomCounts(allViews) {
                    const viewNodes = document.querySelectorAll('[data-view-id]');
                    viewNodes.forEach(node => {
                        const id = node.getAttribute('data-view-id');
                        if (allViews[id]) {
                            const countParams = node.querySelectorAll('.view-count-text');
                            countParams.forEach(el => el.innerText = allViews[id]);
                        } else {
                            const countParams = node.querySelectorAll('.view-count-text');
                            countParams.forEach(el => el.innerText = '0');
                        }
                    });
                }

                // B. Track View (triggered by Lightbox)
                window.trackView = function (photo) {
                    if (!db) { console.error("âŒ Firebase DB not initialized."); return; }
                    if (!photo) { console.warn("âŒ TrackView called with null photo."); return; }

                    // const viewId = `${photo.albumSlug}__${photo.filename.replace(/\./g, '_')}`; 
                    // Wait, `photo.id` in feed/album JSONs is ALREADY generated correctly.
                    const viewId = photo.id;
                    console.log("ğŸ‘€ Tracking View for:", viewId);

                    if (!viewId) { console.warn("No viewId for photo", photo); return; }

                    // Real-time Listener for Lightbox Sidebar
                    const viewRef = ref(db, `views/${viewId}`);

                    // 1. Listen (Realtime UI Update)
                    // Unsubscribe previous if exists? (Simple way: just new listener, it overwrites context if clean)
                    // Better: Store unsubscribe fn if needed. For now, onValue returns unsubscribe.
                    const unsub = onValue(viewRef, (snapshot) => {
                        const count = snapshot.val() || 0;
                        // Update Lightbox Sidebar
                        const lbCount = document.getElementById('lightbox-view-count-val');
                        if (lbCount) lbCount.innerText = count;
                    });
                    // Store unsub to cleanup on close? (Valid optimization for SPA users)
                    window.currentViewUnsub = unsub;


                    // 2. Increment Transaction (Spam Control: localStorage)
                    const storageKey = `viewed_${viewId}`;
                    const hasViewed = localStorage.getItem(storageKey);

                    if (!hasViewed) {
                        console.log("ğŸš€ Incrementing view count...");
                        update(ref(db), {
                            [`views/${viewId}`]: increment(1)
                        }).then(() => {
                            console.log("âœ… View Count Incremented:", viewId);
                            localStorage.setItem(storageKey, 'true');
                        }).catch(e => {
                            console.error("âŒ Firebase Update Error:", e);
                            if (e.code === 'PERMISSION_DENIED') console.warn("ğŸ’¡ Check Firebase Rules test mode.");
                        });
                    } else {
                        console.log("Duplicate view ignored (localStorage check).");
                    }
                };

                // Cleanup listener helper
                window.cleanupViewListener = function () {
                    if (window.currentViewUnsub) {
                        window.currentViewUnsub();
                        window.currentViewUnsub = null;
                    }
                }

                // Global Debug Helper
                window.debugFirebase = {
                    checkConnection: () => {
                        if (db) console.log("âœ… Firebase DB Instance exists.");
                        else console.error("âŒ Firebase DB is NULL.");
                    },
                    forceTrack: (id) => {
                        if (!db) return;
                        update(ref(db), { [`views/${id}`]: increment(1) })
                            .then(() => console.log("Forced update success"))
                            .catch(e => console.error(e));
                    },
                    clearHistory: () => {
                        localStorage.clear();
                        console.log("Cleared localStorage history.");
                    }
                };

                // Expose sync for infinite scrollMasonry to call after append
                window.refreshViewCounts = syncGlobalViews;

            </script>
</body>

</html>